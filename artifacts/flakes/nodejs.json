{
  "name": "Node.js",
  "slug": "nodejs",
  "author": "Raptor Panel",
  "description": "Node.js HTTP server for running JavaScript/TypeScript applications.",
  "dockerImage": "node:20-alpine",
  "startupCommand": "node {{MAIN_FILE}}",
  "configFiles": {},
  "startupDetection": "Server listening",
  "installScript": "#!/bin/bash\ncd /home/container\n\necho \"Setting up Node.js server on port: ${SERVER_PORT:-3000}\"\n\n# Install dependencies if package.json exists\nif [ -f \"package.json\" ]; then\n    echo \"Found package.json, installing dependencies...\"\n    npm install\nelse\n    echo \"No package.json found, creating default HTTP server...\"\n    \n    # Create a simple HTTP server\n    cat > index.js << 'NODEJS_EOF'\nconst http = require('http');\n\nconst PORT = process.env.SERVER_PORT || 3000;\nconst HOST = '0.0.0.0';\n\nconst server = http.createServer((req, res) => {\n    console.log(`${new Date().toISOString()} - ${req.method} ${req.url}`);\n    \n    res.writeHead(200, { 'Content-Type': 'text/html' });\n    res.end(`\n        <!DOCTYPE html>\n        <html>\n        <head>\n            <title>Node.js Server</title>\n            <style>\n                body { font-family: Arial, sans-serif; max-width: 800px; margin: 50px auto; padding: 20px; }\n                h1 { color: #333; }\n                .info { background: #f5f5f5; padding: 15px; border-radius: 5px; }\n            </style>\n        </head>\n        <body>\n            <h1>Welcome to Node.js Server</h1>\n            <div class=\"info\">\n                <p><strong>Status:</strong> Running</p>\n                <p><strong>Port:</strong> ${PORT}</p>\n                <p><strong>Node Version:</strong> ${process.version}</p>\n                <p><strong>Time:</strong> ${new Date().toISOString()}</p>\n            </div>\n            <p>Edit <code>index.js</code> to customize your server.</p>\n        </body>\n        </html>\n    `);\n});\n\nserver.listen(PORT, HOST, () => {\n    console.log(`Server listening on http://${HOST}:${PORT}`);\n});\nNODEJS_EOF\n\n    echo \"Created default index.js\"\nfi\n\necho \"Node.js setup complete!\"",
  "variables": [
    {
      "name": "Main File",
      "description": "The main JavaScript file to run.",
      "envVariable": "MAIN_FILE",
      "defaultValue": "index.js",
      "rules": "required|string|max:100",
      "userViewable": true,
      "userEditable": true
    },
    {
      "name": "Server Port",
      "description": "The port the server will listen on.",
      "envVariable": "SERVER_PORT",
      "defaultValue": "3000",
      "rules": "required|numeric|min:1|max:65535",
      "userViewable": true,
      "userEditable": true
    },
    {
      "name": "Node Environment",
      "description": "Node.js environment (development, production).",
      "envVariable": "NODE_ENV",
      "defaultValue": "production",
      "rules": "required|string|in:development,production",
      "userViewable": true,
      "userEditable": true
    }
  ]
}
